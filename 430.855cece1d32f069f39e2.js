"use strict";(self.webpackChunkprism_health_lab=self.webpackChunkprism_health_lab||[]).push([[430],{8430:(ue,S,g)=>{g.r(S),g.d(S,{SettingsModule:()=>ge});var m=g(8583),T=g(5566),s=g(665),v=g(4330),l=g(3633),_=g(4272),p=g(2340),e=g(7716),w=g(5830),A=g(9344),b=g(405),c=g(1819),C=g(8030);function N(t,o){1&t&&e._UZ(0,"img",7)}function q(t,o){if(1&t&&(e.TgZ(0,"button",8),e.TgZ(1,"div",9),e.TgZ(2,"span"),e._uU(3," Password Setting "),e.qZA(),e.TgZ(4,"span"),e._UZ(5,"i",10),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.opened;e.xp6(5),e.Q6J("ngClass",n?"ri-subtract-line":"ri-add-line")}}function I(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Please provide password length "),e.qZA())}function y(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Minimum password length must be 4 "),e.qZA())}function U(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Maximum password length must be of 100 "),e.qZA())}function J(t,o){if(1&t&&(e.ynx(0),e.YNc(1,I,2,0,"span",28),e.YNc(2,y,2,0,"span",28),e.YNc(3,U,2,0,"span",28),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.minimum_password_length.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.minimum_password_length.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.minimum_password_length.hasError("max"))}}function Q(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Please provide password differences "),e.qZA())}function F(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Minimum password differences must be 3 "),e.qZA())}function Y(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Maximum password differences must be of 100 "),e.qZA())}function k(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Q,2,0,"span",28),e.YNc(2,F,2,0,"span",28),e.YNc(3,Y,2,0,"span",28),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.previous_password_check.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.previous_password_check.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.previous_password_check.hasError("max"))}}function P(t,o){1&t&&e._UZ(0,"input",30)}function E(t,o){1&t&&(e.TgZ(0,"ng-select",31),e.TgZ(1,"ng-option",32),e._uU(2,"Yes"),e.qZA(),e.TgZ(3,"ng-option",33),e._uU(4,"No"),e.qZA(),e.qZA()),2&t&&e.Q6J("clearable",!1)}function M(t,o){1&t&&e._UZ(0,"input",34)}function O(t,o){1&t&&(e.TgZ(0,"ng-select",35),e.TgZ(1,"ng-option",32),e._uU(2,"Yes"),e.qZA(),e.TgZ(3,"ng-option",33),e._uU(4,"No"),e.qZA(),e.qZA()),2&t&&e.Q6J("clearable",!1)}function B(t,o){1&t&&e._UZ(0,"input",36)}function L(t,o){1&t&&(e.TgZ(0,"ng-select",37),e.TgZ(1,"ng-option",32),e._uU(2,"Yes"),e.qZA(),e.TgZ(3,"ng-option",33),e._uU(4,"No"),e.qZA(),e.qZA()),2&t&&e.Q6J("clearable",!1)}function V(t,o){1&t&&e._UZ(0,"input",38)}function G(t,o){1&t&&(e.TgZ(0,"ng-select",39),e.TgZ(1,"ng-option",32),e._uU(2,"Yes"),e.qZA(),e.TgZ(3,"ng-option",33),e._uU(4,"No"),e.qZA(),e.qZA()),2&t&&e.Q6J("clearable",!1)}function $(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",40),e.TgZ(1,"button",41),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return r.onSubmitPasswordSetting(r.passwordForm.value)}),e._UZ(2,"i",42),e._uU(3," Save "),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("disabled",!n.passwordForm.valid)}}function z(t,o){if(1&t&&(e.TgZ(0,"div",11),e.TgZ(1,"form",12),e.TgZ(2,"div",13),e.TgZ(3,"label",14),e._uU(4,"Minimum password length"),e.qZA(),e.TgZ(5,"span",15),e._uU(6,"*"),e.qZA(),e._UZ(7,"input",16),e.YNc(8,J,4,3,"ng-container",17),e.qZA(),e.TgZ(9,"div",13),e.TgZ(10,"label",14),e._uU(11,"Maximum password differences"),e.qZA(),e.TgZ(12,"span",15),e._uU(13,"*"),e.qZA(),e._UZ(14,"input",18),e.YNc(15,k,4,3,"ng-container",17),e.qZA(),e.TgZ(16,"div",13),e.TgZ(17,"label",14),e._uU(18,"Must contain atleast one Numeric character"),e.qZA(),e.TgZ(19,"span",15),e._uU(20,"*"),e.qZA(),e.YNc(21,P,1,0,"input",19),e.YNc(22,E,5,1,"ng-select",20),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"label",14),e._uU(25,"Must contain atleast one Special character"),e.qZA(),e.TgZ(26,"span",15),e._uU(27,"*"),e.qZA(),e.YNc(28,M,1,0,"input",21),e.YNc(29,O,5,1,"ng-select",22),e.qZA(),e.TgZ(30,"div",13),e.TgZ(31,"label",14),e._uU(32,"Must contain atleast one Upper Case character"),e.qZA(),e.TgZ(33,"span",15),e._uU(34,"*"),e.qZA(),e.YNc(35,B,1,0,"input",23),e.YNc(36,L,5,1,"ng-select",24),e.qZA(),e.TgZ(37,"div",13),e.TgZ(38,"label",14),e._uU(39,"Must contain atleast one Lower Case character"),e.qZA(),e.TgZ(40,"span",15),e._uU(41,"*"),e.qZA(),e.YNc(42,V,1,0,"input",25),e.YNc(43,G,5,1,"ng-select",26),e.qZA(),e.qZA(),e.YNc(44,$,4,1,"div",27),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.passwordForm),e.xp6(6),e.Q6J("readonly",n.readonly),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.minimum_password_length.dirty),e.xp6(6),e.Q6J("readonly",n.readonly),e.xp6(1),e.Q6J("ngIf",n.passwordForm.controls.previous_password_check.dirty),e.xp6(6),e.Q6J("ngIf",n.readonly),e.xp6(1),e.Q6J("ngIf",!n.readonly),e.xp6(6),e.Q6J("ngIf",n.readonly),e.xp6(1),e.Q6J("ngIf",!n.readonly),e.xp6(6),e.Q6J("ngIf",n.readonly),e.xp6(1),e.Q6J("ngIf",!n.readonly),e.xp6(6),e.Q6J("ngIf",n.readonly),e.xp6(1),e.Q6J("ngIf",!n.readonly),e.xp6(1),e.Q6J("ngIf",!n.readonly)}}function H(t,o){if(1&t&&(e.TgZ(0,"button",8),e.TgZ(1,"div",9),e.TgZ(2,"span"),e._uU(3," Pagination Setting "),e.qZA(),e.TgZ(4,"span"),e._UZ(5,"i",10),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.opened;e.xp6(5),e.Q6J("ngClass",n?"ri-subtract-line":"ri-add-line")}}function W(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Please provide count of items "),e.qZA())}function j(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Items per page should not be less than 5 "),e.qZA())}function X(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Items per page should not exceed than 1000 "),e.qZA())}function R(t,o){if(1&t&&(e.ynx(0),e.YNc(1,W,2,0,"span",28),e.YNc(2,j,2,0,"span",28),e.YNc(3,X,2,0,"span",28),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.paginationSettingForm.controls.item_per_page.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.paginationSettingForm.controls.item_per_page.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.paginationSettingForm.controls.item_per_page.hasError("max"))}}function D(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return r.onSubmitPaginationSettings(r.paginationSettingForm.value)}),e._UZ(1,"i",42),e._uU(2," Save "),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("disabled",!n.paginationSettingForm.valid)}}function K(t,o){if(1&t&&(e.TgZ(0,"div",43),e.TgZ(1,"form",44),e.TgZ(2,"div",45),e.TgZ(3,"label",14),e._uU(4,"Items per page"),e.qZA(),e.TgZ(5,"span",15),e._uU(6,"*"),e.qZA(),e._UZ(7,"input",46),e.YNc(8,R,4,3,"ng-container",17),e.qZA(),e.qZA(),e.TgZ(9,"div",47),e.YNc(10,D,3,1,"button",48),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.paginationSettingForm),e.xp6(6),e.Q6J("readonly",n.readonly),e.xp6(1),e.Q6J("ngIf",n.paginationSettingForm.controls.item_per_page.dirty),e.xp6(2),e.Q6J("ngIf",!n.readonly)}}function ee(t,o){if(1&t&&(e.TgZ(0,"button",8),e.TgZ(1,"div",9),e.TgZ(2,"span"),e._uU(3," Login Setting "),e.qZA(),e.TgZ(4,"span"),e._UZ(5,"i",10),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.opened;e.xp6(5),e.Q6J("ngClass",n?"ri-subtract-line":"ri-add-line")}}function te(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Please provide session timeout "),e.qZA())}function ne(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Session timeout should not be less than 60 sec "),e.qZA())}function oe(t,o){1&t&&(e.TgZ(0,"span",29),e._uU(1," Session time out should not exceed than 3600 sec. "),e.qZA())}function se(t,o){if(1&t&&(e.ynx(0),e.YNc(1,te,2,0,"span",28),e.YNc(2,ne,2,0,"span",28),e.YNc(3,oe,2,0,"span",28),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.loginSettingForm.controls.session_time.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.loginSettingForm.controls.session_time.hasError("min")),e.xp6(1),e.Q6J("ngIf",n.loginSettingForm.controls.session_time.hasError("max"))}}function ie(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(n);const r=e.oxw(2);return r.onSubmitLoginSessionSettings(r.loginSettingForm.value)}),e._UZ(1,"i",42),e._uU(2," Save "),e.qZA()}if(2&t){const n=e.oxw(2);e.Q6J("disabled",!n.loginSettingForm.valid)}}function re(t,o){if(1&t&&(e.TgZ(0,"div",43),e.TgZ(1,"form",44),e.TgZ(2,"div",45),e.TgZ(3,"label",14),e._uU(4,"Session time out"),e.qZA(),e.TgZ(5,"span",15),e._uU(6,"*"),e.qZA(),e.TgZ(7,"div",49),e._UZ(8,"input",50),e.TgZ(9,"span",51),e._uU(10,"sec."),e.qZA(),e.qZA(),e.YNc(11,se,4,3,"ng-container",17),e.qZA(),e.qZA(),e.TgZ(12,"div",47),e.YNc(13,ie,3,1,"button",48),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.loginSettingForm),e.xp6(7),e.Q6J("readonly",n.readonly),e.xp6(3),e.Q6J("ngIf",n.loginSettingForm.controls.session_time.dirty),e.xp6(2),e.Q6J("ngIf",!n.readonly)}}const ae=[{path:"",component:(()=>{class t{constructor(n,i,r){this.apiService=n,this.toastrService=i,this.checkPermService=r,this.passwordForm=new s.cw({minimum_password_length:new s.NI(null,[s.kI.required,s.kI.min(4),s.kI.max(100)]),previous_password_check:new s.NI(null,[s.kI.required,s.kI.min(3),s.kI.max(100)]),is_alphabetic:new s.NI(null,[s.kI.required]),is_numeric:new s.NI(null,[s.kI.required]),is_punctuation:new s.NI(null,[s.kI.required]),is_upper:new s.NI(null,[s.kI.required]),is_lower:new s.NI(null,[s.kI.required])}),this.paginationSettingForm=new s.cw({item_per_page:new s.NI(null,[s.kI.required,s.kI.max(1e3),s.kI.min(5)])}),this.loginSettingForm=new s.cw({session_time:new s.NI(null,[s.kI.required,s.kI.min(60),s.kI.max(3600)])}),this.loading=!1,this.readonly=!1}ngOnInit(){let n=this.checkPermService.checkPermissions();this.readonly=!(n&&n.length>0&&n.includes("RW")),this.getPasswordSettings(),this.getPaginationSettings(),this.getLoginSettings()}setValue(){var n,i,r,a,u,d,f,Z,x,h;let le=null===(n=this.passwordForm.get("is_alphabetic"))||void 0===n?void 0:n.value,pe=null===(i=this.passwordForm.get("is_numeric"))||void 0===i?void 0:i.value,ce=null===(r=this.passwordForm.get("is_punctuation"))||void 0===r?void 0:r.value,me=null===(a=this.passwordForm.get("is_upper"))||void 0===a?void 0:a.value,_e=null===(u=this.passwordForm.get("is_lower"))||void 0===u?void 0:u.value;null===(d=this.passwordForm.get("is_alphabetic"))||void 0===d||d.setValue(le?"Yes":"No"),null===(f=this.passwordForm.get("is_numeric"))||void 0===f||f.setValue(pe?"Yes":"No"),null===(Z=this.passwordForm.get("is_punctuation"))||void 0===Z||Z.setValue(ce?"Yes":"No"),null===(x=this.passwordForm.get("is_upper"))||void 0===x||x.setValue(me?"Yes":"No"),null===(h=this.passwordForm.get("is_lower"))||void 0===h||h.setValue(_e?"Yes":"No")}getPasswordSettings(){this.apiService.get(`${p.N.userms}/setting/?id=1`).subscribe(i=>{this.passwordForm.patchValue(i.data.data),this.setValue()},i=>{[401,2,3,11,151,153,18,300,301].includes(i.error.status)?this.toastrService.error(i.error.message,"Access Unauthorized",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}):this.toastrService.error(i.error.message,"Error getting password settings",{progressAnimation:"decreasing",progressBar:!0,timeOut:3e3})})}getPaginationSettings(){this.apiService.get(`${p.N.userms}/setting/pagination-setting/?id=1`).subscribe(i=>{this.paginationSettingForm.patchValue(i.data.data)},i=>{[401,2,3,11,151,153,18,300,301].includes(i.error.status)?this.toastrService.error(i.error.message,"Access Unauthorized",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}):this.toastrService.error(i.error.message,"Error getting pagination settings",{progressAnimation:"decreasing",progressBar:!0,timeOut:3e3})})}getLoginSettings(){this.apiService.get(`${p.N.userms}/setting/user-session-setting/?id=1`).subscribe(i=>{this.loginSettingForm.patchValue(i.data.data)},i=>{[401,2,3,11,151,153,18,300,301].includes(i.error.status)?this.toastrService.error(i.error.message,"Access Unauthorized",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}):this.toastrService.error(i.error.message,"Error getting login settings",{progressAnimation:"decreasing",progressBar:!0,timeOut:3e3})})}onSubmitPasswordSetting(n){this.loading=!0;const i=`${p.N.userms}/setting/`;let r=n;r.id=1,this.apiService.patch(i,r).subscribe(a=>{this.toastrService.success(a.message,"Success",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}),this.loading=!1},a=>{this.toastrService.error(a.error.message,"Error updating password settings",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}),this.loading=!1})}onSubmitPaginationSettings(n){this.loading=!0;const i=`${p.N.userms}/setting/pagination-setting/`;let r=n;r.id=1,this.apiService.patch(i,r).subscribe(a=>{this.loading=!1,localStorage.setItem("limit",n.item_per_page),this.toastrService.success(a.message,"Success",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3})},a=>{this.toastrService.error(a.error.message,"Error updating pagination settings",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}),this.loading=!1})}onSubmitLoginSessionSettings(n){this.loading=!0;const i=`${p.N.userms}/setting/user-session-setting/`;let r=n;r.id=1,this.apiService.patch(i,r).subscribe(a=>{this.toastrService.success(a.message,"Success",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}),this.loading=!1},a=>{this.toastrService.error(a.error.message,"Error updating login session settings",{progressBar:!0,progressAnimation:"decreasing",timeOut:3e3}),this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w.s),e.Y36(A._W),e.Y36(b.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-settings"]],decls:12,vars:2,consts:[["class","loader","src","/assets/images/block-loader.gif","alt","Loading","width","150px","height","150px",4,"ngIf"],[1,"card","w-100-p","bg-white",2,"border","none"],[1,"acc-card",2,"border","none",3,"closeOthers"],["id","password-panel"],["ngbPanelHeader","","class","mb-8"],["ngbPanelContent",""],["ngbPanelHeader",""],["src","/assets/images/block-loader.gif","alt","Loading","width","150px","height","150px",1,"loader"],["ngbPanelToggle","",1,"w-100-p","btn",2,"color","#e60000"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100-p"],[3,"ngClass"],["fxLayout","row wrap"],["fxFlex","100","fxLayout","row wrap","fxLayoutGap","16px","fxLayoutAlign","start start",3,"formGroup"],["fxFlex","30",1,"form-group"],["for",""],[1,"text-danger"],["type","number","min","4","required","","formControlName","minimum_password_length",1,"form-control",3,"readonly"],[4,"ngIf"],["type","number","min","3","maxlength","5","required","","formControlName","previous_password_check",1,"form-control",3,"readonly"],["type","text","formControlName","is_numeric","class","form-control","readonly","",4,"ngIf"],["formControlName","is_numeric","class","select group-container",3,"clearable",4,"ngIf"],["type","text","formControlName","is_punctuation","class","form-control","readonly","",4,"ngIf"],["formControlName","is_punctuation","class","select group-container",3,"clearable",4,"ngIf"],["type","text","formControlName","is_upper","class","form-control","readonly","",4,"ngIf"],["formControlName","is_upper","class","select group-container",3,"clearable",4,"ngIf"],["type","text","formControlName","is_lower","class","form-control","readonly","",4,"ngIf"],["formControlName","is_lower","class","select group-container",3,"clearable",4,"ngIf"],["fxFlex","100","class","form-group text-center mb-0",4,"ngIf"],["class","text-danger text-left",4,"ngIf"],[1,"text-danger","text-left"],["type","text","formControlName","is_numeric","readonly","",1,"form-control"],["formControlName","is_numeric",1,"select","group-container",3,"clearable"],["value","Yes"],["value","No"],["type","text","formControlName","is_punctuation","readonly","",1,"form-control"],["formControlName","is_punctuation",1,"select","group-container",3,"clearable"],["type","text","formControlName","is_upper","readonly","",1,"form-control"],["formControlName","is_upper",1,"select","group-container",3,"clearable"],["type","text","formControlName","is_lower","readonly","",1,"form-control"],["formControlName","is_lower",1,"select","group-container",3,"clearable"],["fxFlex","100",1,"form-group","text-center","mb-0"],[1,"btn","btn-success","btn-round","mr-8",3,"disabled","click"],[1,"ri-check-fill"],["fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","25",3,"formGroup"],[1,"form-group"],["type","number","min","5","formControlName","item_per_page","required","",1,"form-control",3,"readonly"],[1,"form-group","text-center","mb-0"],["class","btn btn-success btn-round mr-8",3,"disabled","click",4,"ngIf"],[1,"input-group"],["type","number","min","60","formControlName","session_time","required","",1,"form-control",3,"readonly"],[1,"input-group-text"]],template:function(n,i){1&n&&(e.YNc(0,N,1,0,"img",0),e.TgZ(1,"div",1),e.TgZ(2,"ngb-accordion",2),e.TgZ(3,"ngb-panel",3),e.YNc(4,q,6,1,"ng-template",4),e.YNc(5,z,45,14,"ng-template",5),e.qZA(),e.TgZ(6,"ngb-panel"),e.YNc(7,H,6,1,"ng-template",6),e.YNc(8,K,11,4,"ng-template",5),e.qZA(),e.TgZ(9,"ngb-panel"),e.YNc(10,ee,6,1,"ng-template",6),e.YNc(11,re,14,4,"ng-template",5),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("ngIf",i.loading),e.xp6(2),e.Q6J("closeOthers",!0))},directives:[m.O5,l.gY,l.Gk,l.k9,l.gW,l.I_,c.xw,c.Wh,m.mk,C.oO,s._Y,s.JL,c.yH,c.SQ,s.sg,s.qQ,s.wV,s.Fj,s.Q7,s.JJ,s.u,s.nD,_.w9,_.xv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%;height:100%;position:relative;align-content:flex-start;align-items:flex-start}  .group-container .ng-select-container{box-shadow:none;border-radius:0!important}  .select .ng-dropdown-panel .ng-dropdown-panel-items .ng-option{padding:4px 10px!important}.page-header[_ngcontent-%COMP%]{width:100%;padding:16px 32px}  .acc-card .card-header{padding:0!important}.loader[_ngcontent-%COMP%]{position:absolute;top:35%;left:45%;z-index:1}"]}),t})()}];let ge=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,s.UX,v.Bz.forChild(ae),l.IJ,T.o9,_.A0]]}),t})()}}]);